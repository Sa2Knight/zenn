---
title: "package.jsonã®peerDependenciesMetaã£ã¦ãªã‚“ã ï¼Ÿ"
emoji: "ğŸ“¦"
type: "tech"
topics:
  - "javascript"
  - "npm"
published: true
published_at: "2022-01-30 00:37"
---

:::message
åˆ¥ãƒ¡ãƒ‡ã‚£ã‚¢ã‹ã‚‰ã®ç§»æ¤è¨˜äº‹ãªã®ã§ã€å†…å®¹ãŒã‚„ã‚„å¤ã„ã®ã§ã”æ³¨æ„ãã ã•ã„
:::

# TL;TD

- `package.json`ã«è¨˜è¿°ã™ã‚‹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã§ã€`peerDependencies` ã§å®šç¾©ã—ãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æº€ãŸã—ã¦ãªãã¦ã‚‚è­¦å‘Šã‚’å‡ºã•ãªãã™ã‚‹ãŸã‚ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’è¨­å®šã™ã‚‹ã“ã¨ãŒã§ãã‚‹ (2020/05/03æ™‚ç‚¹)
- ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å…¬é–‹ã™ã‚‹äººä»¥å¤–ã¯ã‚ã‚“ã¾ã‚Šæ°—ã«ã—ãªãã¦ã‚‚å¤§ä¸ˆå¤«ãã†

# ãã‚‚ãã‚‚`peerDependencies` ã¨ã¯

`peerDependencies` ã¯ã€ã‚ã‚‹`ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«X`ã«å¯¾ã™ã‚‹ã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æŒã£ã¦ãŠã‚Šã€`ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«X`ã‹ã‚‰å‚ç…§ã•ã‚Œã‚‹ã“ã¨ã‚’æƒ³å®šã™ã‚‹ãŒã€`ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«X`ã®ã©ã“ã¾ã§ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³äº’æ›æ€§ã‚’æŒã£ã¦ã„ã‚‹ã‹ã‚’è¡¨è¨˜ã—ãŸã‚‚ã®ã§ã™ã€‚

ä¾‹ãˆã° `eslint-plugin-vue` ã¯ã€ `eslint` ã§Vueãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ‰±ã†ãŸã‚ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ã™ãŒã€ã©ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã® `eslint` ã«å¯¾ã—ã¦äº’æ›æ€§ã®ã‚ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãªã®ã‹ãŒ`peerDependencies` ã«è¨˜è¿°ã•ã‚Œã¦ã„ã¾ã™ã€‚

```package.json
  "peerDependencies": {
    "eslint": "^5.0.0 || ^6.0.0"
  }
```
([å¼•ç”¨](https://github.com/vuejs/eslint-plugin-vue/blob/9d559b21e596e7c6a59fad07ed120519310cbb8e/package.json#L49-L51))

ä¸Šè¨˜ã®ä¾‹ã ã¨ã€`eslint-plugin-vue` ã¯ã€`eslint`ã®5ç³»ã¨6ç³»ã«å¯¾å¿œã—ã¦ã„ã‚‹ã¨ã„ã†ã“ã¨ã«ãªã‚Šã¾ã™ã€‚

ãã®äº’æ›æ€§ã‚’ã‚ãˆã¦ç„¡è¦–ã—ã¦ã€`eslint`ã¯4ç³»ã‚’ã€`eslint-plugin-vue`ã¯æœ€æ–°ç‰ˆã‚’æŒ‡å®šã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã¿ã¾ã™ã€‚ã™ã‚‹ã¨ä»¥ä¸‹ã®ã‚ˆã†ãªã€äº’æ›æ€§ãŒãªã„æ—¨ã®è­¦å‘ŠãŒå‡ºã¾ã™ã€‚

```bash
$ yarn add eslint@4.0.0 eslint-plugin-vue
warning " > eslint-plugin-vue@6.2.2" has incorrect peer dependency "eslint@^5.0.0 || ^6.0.0".
```

# `peerDependenciesMeta` ã¨ã¯

`peerDependenciesMeta` ã¯ã€ `peerDependencies` ã®è¨­å®šã«é–¢ã—ã¦ã€è¿½åŠ æƒ…å ±ã‚’å®šç¾©ã™ã‚‹ãŸã‚ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã§ã€ç¾åœ¨(2020/05/03)ã¯ã€ `optional` å±æ€§ã®ã¿å®šç¾©å¯èƒ½ãªã‚ˆã†ã§ã™ã€‚

`optional`å±æ€§ã¯`peerDependencies`ã®äº’æ›æ€§ã‚’ç„¡è¦–ã—ã¦ã‚‚è‰¯ã„ã‹ã‚’Booleanã§è¨­å®šã—ã¾ã™ã€‚

ä¾‹ãˆã°ã€ã‚‚ã—`eslint-plugin-vue`ã®`package.json`ã«ã€ä»¥ä¸‹ã®ã‚ˆã†ã«`peerDependenciesMeta`ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã¨ã€å‰é …ã®è­¦å‘Šã¯å‡ºãªããªã‚Šã¾ã™ã€‚(â€»ãŸã ã—ä½¿ç”¨ã™ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ã«ã‚ˆã‚‹)

```json
  "peerDependenciesMeta": {
    "eslint": {
      "optional": true
    }
  }
```

# å‚è€ƒ

- [package.json | Yarn](https://classic.yarnpkg.com/en/docs/package-json/)
- [vuejs/eslint-plugin-vue](https://github.com/vuejs/eslint-plugin-vue)
- [ã¡ã‚ƒã‚“ã¨ä½¿ã„åˆ†ã‘ã¦ã‚‹? dependenciesã„ã‚ã„ã‚ã€‚) - Qiita](https://qiita.com/cognitom/items/acc3ffcbca4c56cf2b95)
